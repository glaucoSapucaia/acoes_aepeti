<div class="container-estados">
  <h2>Estados</h2>

  <div class="filtro-container">
    <input
      type="text"
      placeholder="Filtrar por Código IBGE"
      [ngModel]="filtroCodigo()"
      (ngModelChange)="filtroCodigo.set($event)"
      (keyup.enter)="aplicarFiltro()"
    />

    <button (click)="aplicarFiltro()">Filtrar</button>

    <button (click)="filtroCodigo.set(''); aplicarFiltro()">Limpar</button>
  </div>

  <table *ngIf="estados().length > 0">
    <thead>
      <tr>
        <th>Código IBGE do Estado</th>
        <th>Estado</th>
        <th>Ano/Mês</th>
        <th>Qtd de ações eixo 01</th>
        <th>Qtd de ações eixo 02</th>
        <th>Qtd de ações eixo 03</th>
        <th>Qtd de ações eixo 04</th>
        <th>Qtd de ações eixo 05</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let estado of estados()">
        <td>{{ estado.codigoIbge }}</td>
        <td>{{ getNomeEstado(+estado.codigoIbge) }}</td>
        <td>
          {{ estado.anomes.toString().slice(0, 4) }}/{{ estado.anomes.toString().slice(4, 6) }}
        </td>
        <td>{{ estado.qtdAcoesEixo01 }}</td>
        <td>{{ estado.qtdAcoesEixo02 }}</td>
        <td>{{ estado.qtdAcoesEixo03 }}</td>
        <td>{{ estado.qtdAcoesEixo04 }}</td>
        <td>{{ estado.qtdAcoesEixo05 }}</td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="estados().length === 0">Nenhum resultado encontrado.</p>

  <div class="paginacao" *ngIf="totalPaginas() > 1">
    <button (click)="paginaAnterior()" [disabled]="paginaAtual() === 0">Anterior</button>

    <span> Página {{ paginaAtual() + 1 }} de {{ totalPaginas() }} </span>

    <button (click)="proximaPagina()" [disabled]="paginaAtual() + 1 >= totalPaginas()">
      Próxima
    </button>
  </div>
</div>
